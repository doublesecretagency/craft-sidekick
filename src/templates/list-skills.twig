<section class="sidekick-menu">
    <h1>What can Sidekick do?</h1>
    <p>Here's a comprehensive list of every skill (aka tool function) Sidekick has access to...</p>
    {% for group, skills in (skillSets ?? []) %}
        <h2>{{ group }}</h2>
        {% for skill in skills %}
            <details>
                <summary><h3 title="{{ skill.fullPath }}">{{ skill.name }}</h3></summary>
                <div class="description">
                    {{ skill.description|nl2br|raw }}
                </div>
            </details>
        {% endfor %}
    {% endfor %}
</section>

{% css %}
.sidekick-menu h1 {
    margin-bottom: 0;
}
.sidekick-menu h2 {
    margin: 7px 0 8px;
    border-top: 1px solid rgba(18, 127, 191, 0.15);
    padding-top: 14px;
}

details {
    padding: 2px 10px 3px 12px;
    margin-bottom: 1px;
    border: 1px solid #fff;
    border-radius: 4px;
}
details[open] {
    background-color: rgba(255, 190, 10, 0.15);
    border-color: rgba(255, 190, 10, 0.37);
}

/* 1) Remove the native marker */
details summary::-webkit-details-marker {
    display: none;
}
details summary::marker { /* for Firefox */
    content: none;
}

/* 2) Style the summary so it can host an inline pseudo‑arrow */
details summary {
    cursor: pointer;
    display: flex;
    align-items: center;
    /* optional: spacing you like */
    padding: 0.25em 0;
}

/* 3) Insert a little triangle */
/*    –▶ you can change content to '❯' or whatever chevron character you like */
/*    –or see the "border trick" further down for a pure‑CSS chevron */
details summary::before {
    content: '❯';
    display: inline-block;
    margin-right: 9px;
    transition: transform 0.2s ease;
    /* optional: color, font-size, etc. */
}

/* 4) Rotate it when <details> is open */
details[open] summary::before {
    transform: rotate(90deg);
}

/* —— Pure‑CSS chevron alternative —— */
/* If you’d rather draw a chevron with borders: */
/*
details summary::before {
  content: '';
  display: inline-block;
  width: 0.6em;  height: 0.6em;
  margin-right: 0.5ch;
  border-style: solid;
  border-width: 0.15em 0.15em 0 0;
  transform: rotate(45deg);
  transition: transform 0.2s ease;
}
details[open] summary::before {
  transform: rotate(-45deg);
}
*/

details .description {
    padding: 2px 6px 5px 16px;
}
{% endcss %}
